<SCRIPT LANGUAGE="JavaScript" SRC="{WEBTEMPLATEDIR}js/selectbox.js"></SCRIPT>
<script type="text/javascript" src="{WEBTEMPLATEDIR}GroupUsersServer.php?client=all"></script>
<script type="text/javascript" src="{WEBTEMPLATEDIR}GroupUsersServer.php?stub=all"></script>

<script type="text/javascript">

function removeAllOptions(from) 
{ 
	if (!hasOptions(from)) { return; }
	for (var i=(from.options.length-1); i>=0; i--) 
	{ 
		from.options[i] = null; 
	} 
	from.selectedIndex = -1; 
} 	

var callback = {
	inGroupUsers: function(result) 
	{
		if(document.getElementById('list2').options.length>0)
		{
			removeAllOptions(document.getElementById('list2'));
		}
		
		var i=0;
		var ingroupusers="";
		for ( var keyVar in result ) 
		{
			document.getElementById('list2').options[i] = new Option( result[keyVar], keyVar, false, false);
			ingroupusers +=keyVar+",";
			i++;
		}
		document.getElementById('old_ingroup').value = ingroupusers;
	},	
	unInGroupUsers: function(result) 
	{
		if(document.getElementById('list1').options.length>0)
		{
			removeAllOptions(document.getElementById('list1'));
		}

		var i=0;
		var uningroupusers="";
		for ( var keyVar in result ) 
		{
			document.getElementById('list1').options[i] = new Option( result[keyVar], keyVar, false, false);
			uningroupusers +=keyVar+",";
			i++;
		}
		document.getElementById('old_uningroup').value = uningroupusers;
	},
		
}

var remoteGroupUsers = new GroupUsers(callback); // our php5/4 compat version

</script>
        
<div id="admin_container">
<h1>{lang_GroupUsers}</h1>
<div id="admin_header">
</div>
<div id="admin_content">
  <div class="{SUCCESS_CLASS}">
	{SUCCESS_MSG}
  </div>

<form id="admin_edit_form" name="admin_edit_form" method="post" enctype="multipart/form-data" action="{WEBDIR}/users/apf_groupusers/{DOACTION}">
<input type="hidden" name="ID" id="ID" value="{GROUP_ID}" />
<fieldset id="fieldset_________" class="">
<h2>{lang_GroupUsers}</h2>

<div class="form-row">
  <label >{lang_Groups}:</label>  <div class="content">
  {GROUPOPTION}  </div>
</div>

<div class="form-row">
<TABLE BORDER=0>
<TR>
	<TD>
	{lang_NotInGroup}:<br/>
	<SELECT ID="list1" NAME="list1" MULTIPLE SIZE=10 onDblClick="moveSelectedOptions(this.form['list1'],this.form['list2'],true)">

	</SELECT>
	<input type="hidden" name="old_uningroup" id="old_uningroup" />
	</TD>
	<TD VALIGN=MIDDLE ALIGN=CENTER>
		<INPUT TYPE="button" NAME="right" VALUE="&gt;" ONCLICK="moveSelectedOptions(this.form['list1'],this.form['list2'],true)"><BR><BR>
		<INPUT TYPE="button" NAME="right" VALUE="All &gt;&gt;" ONCLICK="moveAllOptions(this.form['list1'],this.form['list2'],true)"><BR><BR>
		<INPUT TYPE="button" NAME="left" VALUE="&lt;" ONCLICK="moveSelectedOptions(this.form['list2'],this.form['list1'],true)"><BR><BR>
		<INPUT TYPE="button" NAME="left" VALUE="All &lt;&lt;" ONCLICK="moveAllOptions(this.form['list2'],this.form['list1'],true)">
	</TD>
	<TD>
	{lang_InGroup}:<br/>
	<input type="hidden" name="old_ingroup" id="old_ingroup" />
	<SELECT ID="list2" NAME="list2" MULTIPLE SIZE=10 onDblClick="moveSelectedOptions(this.form['list2'],this.form['list1'],true)">

	</SELECT>
	</TD>
</TR>
</TABLE>
</div>

</fieldset>
<ul class="admin_actions">
  <li><input class="admin_action_list" value="{lang_List}" type="button" onclick="document.location.href='{WEBDIR}/users/apf_groups/list';" /></li>
  <li><input type="submit" name="save" value="{lang_Save}" class="admin_action_save" /></li>

</ul>
</form>

<ul class="admin_actions">
      <li class="float-left"></li>
</ul>
</div>

<div id="admin_footer">
</div>
</div>
